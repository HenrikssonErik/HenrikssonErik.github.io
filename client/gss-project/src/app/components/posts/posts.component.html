<!--post-a-new-post modal-->
<div
  id="postModal"
  class="modal"
  tabindex="-1"
  role="dialog"
  [ngStyle]="{ display: display }"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Nytt inlägg</h4>
        <i id="closeBtnTop" class="bi bi-x-lg" (click)="onCloseHandled()"></i>
      </div>

      <div class="modal-body">
        <div [ngClass]="{ 'was-validated': wasValidated == true }">
          <div class="form-floating mb-3">
            <input
              type="text"
              [(ngModel)]="title"
              class="form-control"
              id="floatingInput"
              id="title"
              placeholder="Titel"
              required
            />

            <label for="floatingInput">Titel</label>
            <div class="invalid-feedback">Vänligen ange titel</div>
          </div>
        </div>
        <div [ngClass]="{ 'was-validated': wasValidated == true }">
          <div class="form-floating">
            <textarea
              [(ngModel)]="content"
              class="form-control"
              placeholder="Innehåll"
              id="floatingTextarea2"
              style="height: 150px"
              id="content"
              required
            ></textarea>

            <label for="floatingTextarea2">Innehåll</label>
            <div class="invalid-feedback">Vänligen ange innehåll</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="submit"
          class="btn btn-success button"
          (click)="addPost()"
        >
          Publicera
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal !-->

<!--edit-a-post modal-->
<div
  id="editModal"
  class="modal"
  tabindex="-1"
  role="dialog"
  [ngStyle]="{ display: editModal }"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Ändra inlägg</h4>
        <i id="closeBtnTop" class="bi bi-x-lg" (click)="onCloseEdit()"></i>
      </div>

      <div class="modal-body">
        <div [ngClass]="{ 'was-validated': wasValidated == true }">
          <div class="form-floating mb-3">
            <input
              type="text"
              [(ngModel)]="title"
              class="form-control"
              id="floatingInput"
              placeholder="Titel"
              id="title"
              required
            />

            <label for="floatingInput">Titel</label>
            <div class="invalid-feedback">Vänligen ange titel</div>
          </div>
        </div>
        <div [ngClass]="{ 'was-validated': wasValidated == true }">
          <div class="form-floating">
            <textarea
              [(ngModel)]="content"
              class="form-control"
              placeholder="Innehåll"
              id="floatingTextarea2"
              style="height: 150px"
              id="content"
              required
            ></textarea>

            <label for="floatingTextarea2">Innehåll</label>
            <div class="invalid-feedback">Vänligen ange innehåll</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="submit"
          class="btn btn-success button"
          (click)="editPost()"
        >
          Ändra
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal !-->

<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="d-flex justify-content-center">
        <button
          id="newPostbtn"
          type="button"
          class="btn btn-success button"
          (click)="openModal()"
        >
          Nytt inlägg
        </button>
      </div>
      <div class="d-flex justify-content-center" *ngFor="let post of posts">
        <div class="card" style="width: 50rem">
          <div class="card-body">
            <h5 class="card-title">{{ post.title }}</h5>
            <span class="pull-right">
              <h6 class="card-subtitle mb-2 text-muted">
                {{ post.status + "  " + post.timeStamp.toLocaleDateString() }}
              </h6>
            </span>
            <p class="card-text">
              {{ post.content }}
            </p>

            <button
              id="button"
              class="btn btn-primary trash-btn button"
              style="border-radius: 0.2em; margin: 5px"
              onclick="document.getElementById('id01').style.display='block'"
            >
              <i class="bi bi-trash"></i>
            </button>

            <div id="id01" class="modal">
              <span
                onclick="document.getElementById('id01').style.display='none'"
                class="close"
                title="Close Modal"
                >&times;</span
              >
              <form class="delete-modal-content">
                <div class="modalContainer">
                  <h1>Ta bort inlägg</h1>
                  <p>Är du säker på att du vill ta bort detta inlägg?</p>

                  <div class="clearfix">
                    <button
                      type="button"
                      class="cancelbtn"
                      onclick="document.getElementById('id01').style.display='none'"
                    >
                      Avbryt
                    </button>
                    <button
                      type="button"
                      class="deletebtn"
                      (click)="deleteConfirmed(post)"
                    >
                      Ta bort
                    </button>
                  </div>
                </div>
              </form>
            </div>

            <button
              type="button"
              class="btn btn-primary edit-btn button"
              (click)="onEdit(post)"
            >
              <i class="bi bi-pencil-square"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
